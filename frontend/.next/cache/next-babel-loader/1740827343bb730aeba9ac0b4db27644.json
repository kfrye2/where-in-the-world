{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs2/helpers/interopRequireDefault\");\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime-corejs2/regenerator\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/esm/slicedToArray\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\"));\n\nvar _bluebird = _interopRequireDefault(require(\"bluebird\"));\n\nrequire(\"isomorphic-fetch\");\n\nfunction getItemsCity(_x) {\n  return _getItemsCity.apply(this, arguments);\n}\n\nfunction _getItemsCity() {\n  _getItemsCity = (0, _asyncToGenerator2[\"default\"])(\n  /*#__PURE__*/\n  _regenerator[\"default\"].mark(function _callee3(searchParam) {\n    return _regenerator[\"default\"].wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            return _context3.abrupt(\"return\", fetch(\"http://localhost:8080/api/city?city=\".concat(searchParam)).then(function (resp) {\n              return resp.json();\n            }));\n\n          case 1:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n  return _getItemsCity.apply(this, arguments);\n}\n\n;\n\nfunction getDataCity(param) {\n  return _bluebird[\"default\"].all([getItemsCity(param)]).then(function (_ref) {\n    var _ref2 = (0, _slicedToArray2[\"default\"])(_ref, 2),\n        items = _ref2[0],\n        repos = _ref2[1];\n\n    return {\n      items: items\n    };\n  });\n}\n\n;\n\nfunction getItems(_x2) {\n  return _getItems.apply(this, arguments);\n}\n\nfunction _getItems() {\n  _getItems = (0, _asyncToGenerator2[\"default\"])(\n  /*#__PURE__*/\n  _regenerator[\"default\"].mark(function _callee4(searchParam) {\n    return _regenerator[\"default\"].wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            return _context4.abrupt(\"return\", fetch(\"http://localhost:8080/api/largebody?param=\".concat(searchParam)).then(function (resp) {\n              return resp.json();\n            }));\n\n          case 1:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n  return _getItems.apply(this, arguments);\n}\n\n;\n\nfunction getData(param) {\n  return _bluebird[\"default\"].all([getItems(param)]).then(function (_ref3) {\n    var _ref4 = (0, _slicedToArray2[\"default\"])(_ref3, 2),\n        items = _ref4[0],\n        repos = _ref4[1];\n\n    return {\n      items: items\n    };\n  });\n}\n\n;\n\nfunction handleError(error) {\n  console.warn(error);\n  return null;\n}\n\n;\nmodule.exports = {\n  getInfoCity: function () {\n    var _getInfoCity = (0, _asyncToGenerator2[\"default\"])(\n    /*#__PURE__*/\n    _regenerator[\"default\"].mark(function _callee(param) {\n      return _regenerator[\"default\"].wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              return _context.abrupt(\"return\", getDataCity(param)[\"catch\"](handleError));\n\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    function getInfoCity(_x3) {\n      return _getInfoCity.apply(this, arguments);\n    }\n\n    return getInfoCity;\n  }(),\n  getInfo: function () {\n    var _getInfo = (0, _asyncToGenerator2[\"default\"])(\n    /*#__PURE__*/\n    _regenerator[\"default\"].mark(function _callee2(param) {\n      return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              return _context2.abrupt(\"return\", getData(param)[\"catch\"](handleError));\n\n            case 1:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    function getInfo(_x4) {\n      return _getInfo.apply(this, arguments);\n    }\n\n    return getInfo;\n  }()\n};","map":{"version":3,"sources":["/mnt/c/Users/Krissy/Desktop/UMW_Classes/FALL_2019/CPSC350/where-in-the-world/frontend/lib/utils.js"],"names":["require","getItemsCity","searchParam","fetch","then","resp","json","getDataCity","param","BPromise","all","items","repos","getItems","getData","handleError","error","console","warn","module","exports","getInfoCity","getInfo"],"mappings":";;;;;;;;;;AACA;;AADAA,OAAO,CAAC,kBAAD,CAAP;;SAGeC,Y;;;;;;;+BAAf,kBAA4BC,WAA5B;AAAA;AAAA;AAAA;AAAA;AAAA,8CAEWC,KAAK,+CAAwCD,WAAxC,EAAL,CAA4DE,IAA5D,CAAiE,UAASC,IAAT,EAAe;AACnF,qBAAOA,IAAI,CAACC,IAAL,EAAP;AACH,aAFM,CAFX;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AAKC;;AAED,SAASC,WAAT,CAAqBC,KAArB,EAA4B;AACxB,SAAOC,qBAASC,GAAT,CAAa,CAACT,YAAY,CAACO,KAAD,CAAb,CAAb,EAAoCJ,IAApC,CAAyC,gBAAwB;AAAA;AAAA,QAAdO,KAAc;AAAA,QAAPC,KAAO;;AACpE,WAAM;AAAED,MAAAA,KAAK,EAALA;AAAF,KAAN;AACH,GAFM,CAAP;AAGH;;AAAA;;SAEcE,Q;;;;;;;+BAAf,kBAAwBX,WAAxB;AAAA;AAAA;AAAA;AAAA;AAAA,8CAEWC,KAAK,qDAA8CD,WAA9C,EAAL,CAAkEE,IAAlE,CAAuE,UAASC,IAAT,EAAe;AACzF,qBAAOA,IAAI,CAACC,IAAL,EAAP;AACH,aAFM,CAFX;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AAKC;;AAED,SAASQ,OAAT,CAAiBN,KAAjB,EAAwB;AACpB,SAAOC,qBAASC,GAAT,CAAa,CAACG,QAAQ,CAACL,KAAD,CAAT,CAAb,EAAgCJ,IAAhC,CAAqC,iBAAwB;AAAA;AAAA,QAAdO,KAAc;AAAA,QAAPC,KAAO;;AAChE,WAAM;AAAED,MAAAA,KAAK,EAALA;AAAF,KAAN;AACH,GAFM,CAAP;AAGH;;AAAA;;AAED,SAASI,WAAT,CAAqBC,KAArB,EAA2B;AACvBC,EAAAA,OAAO,CAACC,IAAR,CAAaF,KAAb;AACA,SAAO,IAAP;AACH;;AAAA;AAEDG,MAAM,CAACC,OAAP,GAAiB;AACbC,EAAAA,WAAW;AAAA;AAAA;AAAA,iCAAE,iBAAeb,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA,+CACFD,WAAW,CAACC,KAAD,CAAX,UAAyBO,WAAzB,CADE;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA,KADE;AAIbO,EAAAA,OAAO;AAAA;AAAA;AAAA,iCAAE,kBAAed,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA,gDACEM,OAAO,CAACN,KAAD,CAAP,UAAqBO,WAArB,CADF;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAJM,CAAjB","sourcesContent":["require(\"isomorphic-fetch\");\r\nimport BPromise from \"bluebird\";\r\n\r\nasync function getItemsCity(searchParam){\r\n    //return fetch(`http://35.245.126.165/api/usersearch?param=${searchParam.search}&username=${searchParam.un}`).then(function(resp) {\r\n    return fetch(`http://localhost:8080/api/city?city=${searchParam}`).then(function(resp) {\r\n        return resp.json();\r\n    })\r\n};\r\n\r\nfunction getDataCity(param) {\r\n    return BPromise.all([getItemsCity(param)]).then(function([items, repos]){\r\n        return{ items };\r\n    });\r\n};\r\n\r\nasync function getItems(searchParam){\r\n    //return fetch(`http://35.245.126.165/api/search?param=${searchParam.search}`).then(function(resp) {\r\n    return fetch(`http://localhost:8080/api/largebody?param=${searchParam}`).then(function(resp) {\r\n        return resp.json();\r\n    })\r\n};\r\n\r\nfunction getData(param) {\r\n    return BPromise.all([getItems(param)]).then(function([items, repos]){\r\n        return{ items };\r\n    });\r\n};\r\n\r\nfunction handleError(error){\r\n    console.warn(error);\r\n    return null;\r\n};\r\n\r\nmodule.exports = {\r\n    getInfoCity: async function(param) {\r\n        return getDataCity(param).catch(handleError);\r\n    },\r\n    getInfo: async function(param) {\r\n        return getData(param).catch(handleError);\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"script"}